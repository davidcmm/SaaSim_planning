#/usr/bin/Rscript

on_100_10 <- read.table("on_100_10/profits.dat")
#op_100_10 <- read.table("op_100_10/profits.dat")
#op_100_10 <- read.table("op_partial_100_10/profits.dat")
op_100_10 <- read.table("op_partial_fac5_100_10/profits.dat")
ov_100_10 <- read.table("ov_100_10/profits.dat")
ut_100_10 <- read.table("ut_100_10/profits.dat")
print("100 op")
shapiro.test((op_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1))
print("100 ov")
shapiro.test((ov_100_10$V1- on_100_10$V1) / abs(on_100_10$V1))
print("100 ut")
shapiro.test((ut_100_10$V1- on_100_10$V1) / abs(on_100_10$V1))

on_100_5 <- read.table("on_100_5/profits.dat")
#op_100_5 <- read.table("op_100_5/profits.dat")
#op_100_5 <- read.table("op_partial_100_5/profits.dat")
op_100_5 <- read.table("op_partial_fac5_100_5/profits.dat")
ov_100_5 <- read.table("ov_100_5/profits.dat")
ut_100_5 <- read.table("ut_100_5/profits.dat")
print("100 op")
shapiro.test((op_100_5$V1- on_100_5$V1) / abs(on_100_5$V1))
print("100 ov")
shapiro.test((ov_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1))
print("100 ut")
shapiro.test((ut_100_5$V1- on_100_5$V1) / abs(on_100_5$V1))


on_100_15 <- read.table("on_100_15/profits.dat")
#op_100_15 <- read.table("op_100_15/profits.dat")
#op_100_15 <- read.table("op_partial_100_15/profits.dat")
op_100_15 <- read.table("op_partial_fac5_100_15/profits.dat")
ov_100_15 <- read.table("ov_100_15/profits.dat")
ut_100_15 <- read.table("ut_100_15/profits.dat")
print("100 op")
shapiro.test((op_100_15$V1- on_100_15$V1) / abs(on_100_15$V1))
print("100 ov")
shapiro.test((ov_100_15$V1- on_100_15$V1) / abs(on_100_15$V1))
print("100 ut")
shapiro.test((ut_100_15$V1- on_100_15$V1) / abs(on_100_15$V1))


on_10_10 <- read.table("on_10_10/profits.dat")
#op_10_10 <- read.table("op_10_10/profits.dat")
#op_10_10 <- read.table("op_partial_10_10/profits.dat")
op_10_10 <- read.table("op_partial_fac5_10_10/profits.dat")
ov_10_10 <- read.table("ov_10_10/profits.dat")
ut_10_10 <- read.table("ut_10_10/profits.dat")
print("10 op")
shapiro.test((op_10_10$V1 - on_10_10$V1) / abs(on_10_10$V1))
print("10 ov")
shapiro.test((ov_10_10$V1 - on_10_10$V1) / abs(on_10_10$V1))
print("10 ut")
shapiro.test((ut_10_10$V1 - on_10_10$V1) / abs(on_10_10$V1))

on_10_5 <- read.table("on_10_5/profits.dat")
#op_10_5 <- read.table("op_10_5/profits.dat")
#op_10_5 <- read.table("op_partial_10_5/profits.dat")
op_10_5 <- read.table("op_partial_fac5_10_5/profits.dat")
ov_10_5 <- read.table("ov_10_5/profits.dat")
ut_10_5 <- read.table("ut_10_5/profits.dat")
print("10 op")
shapiro.test((op_10_5$V1 - on_10_5$V1) / abs(on_10_5$V1))
print("10 ov")
shapiro.test((ov_10_5$V1 - on_10_5$V1) / abs(on_10_5$V1))
print("10 ut")
shapiro.test((ut_10_5$V1 - on_10_5$V1) / abs(on_10_5$V1))

on_10_15 <- read.table("on_10_15/profits.dat")
#op_10_15 <- read.table("op_10_15/profits.dat")
#op_10_15 <- read.table("op_partial_10_15/profits.dat")
op_10_15 <- read.table("op_partial_fac5_10_15/profits.dat")
ov_10_15 <- read.table("ov_10_15/profits.dat")
ut_10_15 <- read.table("ut_10_15/profits.dat")
print("10 op")
shapiro.test((op_10_15$V1 - on_10_15$V1) / abs(on_10_15$V1))
print("10 ov")
shapiro.test((ov_10_15$V1 - on_10_15$V1) / abs(on_10_15$V1))
print("10 ut")
shapiro.test((ut_10_15$V1 - on_10_15$V1) / abs(on_10_15$V1))

on_50_10 <- read.table("on_50_10/profits.dat")
#op_50_10 <- read.table("op_50_10/profits.dat")
#op_50_10 <- read.table("op_partial_50_10/profits.dat")
op_50_10 <- read.table("op_partial_fac5_50_10/profits.dat")
ov_50_10 <- read.table("ov_50_10/profits.dat")
ut_50_10 <- read.table("ut_50_10/profits.dat")
print("50 op")
shapiro.test((op_50_10$V1 - on_50_10$V1) / abs(on_50_10$V1))
print("50 ov")
shapiro.test((ov_50_10$V1 - on_50_10$V1) / abs(on_50_10$V1))
print("50 ut")
shapiro.test((ut_50_10$V1 - on_50_10$V1) / abs(on_50_10$V1))

on_50_5 <- read.table("on_50_5/profits.dat")
#op_50_5 <- read.table("op_50_5/profits.dat")
#op_50_5 <- read.table("op_partial_50_5/profits.dat")
op_50_5 <- read.table("op_partial_fac5_50_5/profits.dat")
ov_50_5 <- read.table("ov_50_5/profits.dat")
ut_50_5 <- read.table("ut_50_5/profits.dat")
print("50 op")
shapiro.test((op_50_5$V1 - on_50_5$V1) / abs(on_50_5$V1))
print("50 ov")
shapiro.test((ov_50_5$V1 - on_50_5$V1) / abs(on_50_5$V1))
print("50 ut")
shapiro.test((ut_50_5$V1- on_50_5$V1) / abs(on_50_5$V1))

on_50_15 <- read.table("on_50_15/profits.dat")
#op_50_15 <- read.table("op_50_15/profits.dat")
#op_50_15 <- read.table("op_partial_50_15/profits.dat")
op_50_15 <- read.table("op_partial_fac5_50_15/profits.dat")
ov_50_15 <- read.table("ov_50_15/profits.dat")
ut_50_15 <- read.table("ut_50_15/profits.dat")
print("50 op")
shapiro.test((op_50_15$V1 - on_50_15$V1) / abs(on_50_15$V1))
print("50 ov")
shapiro.test((ov_50_15$V1 - on_50_15$V1) / abs(on_50_15$V1))
print("50 ut")
shapiro.test((ut_50_15$V1 - on_50_15$V1) / abs(on_50_15$V1))

#QQplots

jpeg("normalidade_g_100.jpg")
par(mfrow=c(3, 3))

qqnorm((op_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1), main="op 100 10")
qqline((op_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1))
qqnorm((ov_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1), main="ov 100 10")
qqline((ov_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1))
qqnorm((ut_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1), main="ut 100 10")
qqline((ut_100_10$V1 - on_100_10$V1) / abs(on_100_10$V1))

qqnorm((op_100_15$V1 - on_100_15$V1) / abs(on_100_15$V1), main="op 100 15")
qqline((op_100_15$V1 - on_100_15$V1) / abs(on_100_15$V1))
qqnorm((ov_100_15$V1 - on_100_15$V1) / abs(on_100_15$V1), main="ov 100 15")
qqline((ov_100_15$V1 - on_100_15$V1) / abs(on_100_15$V1))
qqnorm((ut_100_15$V1 - on_100_15$V1) / abs(on_100_15$V1), main="ut 100 15")
qqline((ut_100_15$V1 - on_100_15$V1) / abs(on_100_15$V1))

qqnorm((op_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1), main="op 100 5")
qqline((op_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1))
qqnorm((ov_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1), main="ov 100 5")
qqline((ov_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1))
qqnorm((ut_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1), main="ut 100 5")
qqline((ut_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1))

jpeg("homocedasticidade_g_100.jpg")
par(mfrow=c(3, 3))

plot((op_100_10$V1- on_100_10$V1) / abs(on_100_10$V1), main="op 100 10")
plot((ov_100_10$V1- on_100_10$V1) / abs(on_100_10$V1), main="ov 100 10")
plot((ut_100_10$V1- on_100_10$V1) / abs(on_100_10$V1), main="ut 100 10")

plot((op_100_15$V1- on_100_15$V1) / abs(on_100_15$V1), main="op 100 15")
plot((ov_100_15$V1- on_100_15$V1) / abs(on_100_15$V1), main="ov 100 15")
plot((ut_100_15$V1- on_100_15$V1) / abs(on_100_15$V1), main="ut 100 15")

plot((op_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1), main="op 100 5")
plot((ov_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1), main="ov 100 5")
plot((ut_100_5$V1 - on_100_5$V1) / abs(on_100_5$V1), main="ut 100 5")

jpeg("normalidade_g_10.jpg")
par(mfrow=c(3, 3))

gop_10_10 <- (op_10_10$V1 - on_10_10$V1) / abs(on_10_10$V1)
qqnorm(gop_10_10, main="op 10 10")
qqline(gop_10_10)
gov_10_10 <- (ov_10_10$V1 - on_10_10$V1) / abs(on_10_10$V1)
qqnorm(gov_10_10, main="ov 10 10")
qqline(gov_10_10)
gut_10_10 <- (ut_10_10$V1 - on_10_10$V1) / abs(on_10_10$V1)
qqnorm(gut_10_10, main="ut 10 10")
qqline(gut_10_10)

gop_10_15 <- (op_10_15$V1 - on_10_15$V1) / abs(on_10_15$V1)
qqnorm(gop_10_15, main="op 10 15")
qqline(gop_10_15)
gov_10_15 <- (ov_10_15$V1 - on_10_15$V1) / abs(on_10_15$V1)
qqnorm(gov_10_15, main="ov 10 15")
qqline(gov_10_15)
gut_10_15 <- (ut_10_15$V1 - on_10_15$V1) / abs(on_10_15$V1)
qqnorm(gut_10_15, main="ut 10 15")
qqline(gut_10_15)

gop_10_5 <- (op_10_5$V1 - on_10_5$V1) / abs(on_10_5$V1)
qqnorm(gop_10_5, main="op 10 5")
qqline(gop_10_5)
gov_10_5 <- (ov_10_5$V1 - on_10_5$V1) / abs(on_10_5$V1)
qqnorm(gov_10_5, main="ov 10 5")
qqline(gov_10_5)
gut_10_5 <- (ut_10_5$V1 - on_10_5$V1) / abs(on_10_5$V1)
qqnorm(gut_10_5, main="ut 10 5")
qqline(gut_10_5)

jpeg("homocedasticidade_g_10.jpg")
par(mfrow=c(3, 3))

plot(gop_10_10, main="op 10 10")
plot(gov_10_10, main="ov 10 10")
plot(gut_10_10, main="ut 10 10")

plot(gop_10_15, main="op 10 15")
plot(gov_10_15, main="ov 10 15")
plot(gut_10_15, main="ut 10 15")

plot(gop_10_5, main="op 10 5")
plot(gov_10_5, main="ov 10 5")
plot(gut_10_5, main="ut 10 5")

jpeg("normalidade_g_50.jpg")
par(mfrow=c(3, 3))

gop_50_10 <- (op_50_10$V1 - on_50_10$V1) / abs(on_50_10$V1)
qqnorm(gop_50_10, main="op 50 10")
qqline(gop_50_10)
gov_50_10 <- (ov_50_10$V1 - on_50_10$V1) / abs(on_50_10$V1)
qqnorm(gov_50_10, main="ov 50 10")
qqline(gov_50_10)
gut_50_10 <- (ut_50_10$V1 - on_50_10$V1) / abs(on_50_10$V1)
qqnorm(gut_50_10, main="ut 50 10")
qqline(gut_50_10)

gop_50_15 <- (op_50_15$V1 - on_50_15$V1) / abs(on_50_15$V1)
qqnorm(gop_50_15, main="op 50 15")
qqline(gop_50_15)
gov_50_15 <- (ov_50_15$V1 - on_50_15$V1) / abs(on_50_15$V1)
qqnorm(gov_50_15, main="ov 50 15")
qqline(gov_50_15)
gut_50_15 <- (ut_50_15$V1 - on_50_15$V1) / abs(on_50_15$V1)
qqnorm(gut_50_15, main="ut 50 15")
qqline(gut_50_15)

gop_50_5 <- (op_50_5$V1 - on_50_5$V1) / abs(on_50_5$V1)
qqnorm(gop_50_5, main="op 50 5")
qqline(gop_50_5)
gov_50_5 <- (ov_50_5$V1 - on_50_5$V1) / abs(on_50_5$V1)
qqnorm(gov_50_5, main="ov 50 5")
qqline(gov_50_5)
gut_50_5 <- (ut_50_5$V1 - on_50_5$V1) / abs(on_50_5$V1)
qqnorm(gut_50_5, main="ut 50 5")
qqline(gut_50_5)

jpeg("homocedasticidade_g_50.jpg")
par(mfrow=c(3, 3))

plot(gop_50_10, main="op 50 10")
plot(gov_50_10, main="ov 50 10")
plot(gut_50_10, main="ut 50 10")

plot(gop_50_15, main="op 50 15")
plot(gov_50_15, main="ov 50 15")
plot(gut_50_15, main="ut 50 15")

plot(gop_50_5, main="op 50 5")
plot(gov_50_5, main="ov 50 5")
plot(gut_50_5, main="ut 50 5")

dev.off()



